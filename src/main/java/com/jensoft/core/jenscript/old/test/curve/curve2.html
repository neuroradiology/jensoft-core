<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>
<script type="text/javascript" src="http://localhost:8888/js/jenscript.js"></script>
</head>
<body>


<img alt="" src="" id="curveFigure"><br>

<script type="text/javascript">

var colorutil = new com.jensoft.jenscript.ColorUtil();
var black = colorutil.getColor(0, 0, 0, 255);
var black2 = colorutil.getColor(0, 0, 0, 80);
var darkgray = colorutil.getColor(64, 64, 64, 255);
var white = colorutil.getColor(255, 255, 255, 255);
var redwood 	= colorutil.getColor(203,71,52,255);
var lime 		= colorutil.getColor(197,208,89,255);
var cobalt 		= colorutil.getColor(35,56,158,255);
var emerald 	= colorutil.getColor(62,142,78,255);

var stroke2 = new com.jensoft.jenscript.graphics.Stroke(2);
var emeraldAlpha40 = colorutil.getColor(62,142,78,40);
var whiteAlpha40 	= colorutil.getColor(220, 255, 255, 0);
var blue 	= colorutil.getColor(8,148,207, 255);
var blueAlpha 	= colorutil.getColor(8,148,207, 40);

var stroke3 = new com.jensoft.jenscript.graphics.Stroke(0.8);
stroke3.setCap('square');
stroke3.setJoin('mitter');
var dash = new Array( 4,2,4 );
stroke3.setDash(dash);


//define view
var view = new com.jensoft.jenscript.View2D(480,320,"curveFigure");
view.setBackground(new com.jensoft.jenscript.Color(255, 255, 255, 255));
view.setPlaceHolderWest(80);


var night 	= colorutil.getColor(32,39,55,200);
var fractions = [0,1];
var colors = [night,black];
var shader = new com.jensoft.jenscript.graphics.Shader(fractions, colors);
var vb = new com.jensoft.jenscript.ViewBackground(shader,redwood);
vb.setOutlineStroke(stroke2);
view.setBackgroundPainter(vb);

//define window
var w2d1 = new com.jensoft.jenscript.Window2D("window curve", 0, 10, -2, 24);
w2d1.setThemeColor(redwood);
view.registerWindow2D(w2d1);


//band decorator
var bp = new com.jensoft.jenscript.plugin.band.BandPlugin();
w2d1.registerPlugin(bp);

var palette1 = new com.jensoft.jenscript.plugin.band.BandPalette();
palette1.addColor(whiteAlpha40);
palette1.addColor(blueAlpha);

var dynManager = new com.jensoft.jenscript.plugin.band.DynamicBandManager('horizontal',0,2.5);
dynManager.setPalette(palette1);
bp.addManager(dynManager);

//grid decorator plugin
var gp = new com.jensoft.jenscript.plugin.grid.GridPlugin();
w2d1.registerPlugin(gp);

var dynManager = new com.jensoft.jenscript.plugin.grid.DynamicGridManager('horizontal',emerald,0,2.5);
gp.addManager(dynManager);
dynManager.setStroke(stroke3);


w2d1.registerPlugin(new com.jensoft.jenscript.plugin.outline.OutlinePlugin());

//define metrics on south part
var mm1 = new com.jensoft.jenscript.plugin.metrics.MilliMetrics();
mm1.setRef(0);
mm1.setAxis('axisSouth');
mm1.setMajor(5);
mm1.setMedian(2.5);
mm1.setMinor(0.5);
w2d1.registerPlugin(mm1);

//define metrics on west part 
var mm2 = new com.jensoft.jenscript.plugin.metrics.MilliMetrics();
mm2.setRef(0);
mm2.setAxis('axisWest');
mm2.setMajor(10);
mm2.setMedian(5);
mm2.setMinor(1);
mm2.setPaintAxisBaseLine(false);
w2d1.registerPlugin(mm2);


//legend
var legend = new com.jensoft.jenscript.plugin.legend.LegendPlugin('Curve');
legend.setAlignment('right');
legend.setPosition('east');
legend.setDepth(0.3);
legend.setStartColor(white);
legend.setEndColor(emerald);
w2d1.registerPlugin(legend);

//define linear serie
var xValues = new Array( 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 );
var yValues = new Array( 6, 1.8, 15, 1.9, 3.4, 6.1, 4.2, 8.5, 9.9, 12, 8 );	
var serie1 = new com.jensoft.jenscript.plot.Serie2D(xValues,yValues);
var serie2 = new com.jensoft.jenscript.plot.InterpolateSerie2D(xValues,yValues,0.1);


//define curve plugin
var curvePlugin = new com.jensoft.jenscript.plugin.curve.CurvePlugin();
w2d1.registerPlugin(curvePlugin);

//define linear curve
var curve1 =  new com.jensoft.jenscript.plugin.curve.Curve(serie1,lime);  
//curvePlugin.addCurve(curve1);

//define spline curve
var curve2 =  new com.jensoft.jenscript.plugin.curve.Curve(serie2,blue);
curve2.setStroke(stroke2);

curvePlugin.addCurve(curve2);

//glyph label
var g1 =new com.jensoft.jenscript.plot.glyph(2.5,'label1');
g1.setStylePosition('tangent');
g1.setDivergence(15);
g1.setTextColor(redwood);
var marker =new com.jensoft.jenscript.plot.TicTacMarker(redwood);
marker.setDivergenceRight(8);
marker.setDivergenceLeft(0);
marker.setSize(2);
g1.setMarker(marker);

var g2 =new com.jensoft.jenscript.plot.glyph(5.3,'label2');
g2.setStylePosition('default');
g2.setDivergence(10);
g2.setTextColor(lime);
var marker2 =new com.jensoft.jenscript.plot.RoundMarker(redwood,white,4);
g2.setMarker(marker2);

curve2.addGlyph(g1);
curve2.addGlyph(g2);


alert(view.getViewXML());
view.requestView();

</script>



</body>
</html>